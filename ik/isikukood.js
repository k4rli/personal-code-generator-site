!function(e){function s(n){"use strict";this.code=String(n),this.getControlNumber=function(){for(var e,t=[1,2,3,4,5,6,7,8,9,1],r=[3,4,5,6,7,8,9,1,2,3],a=0,n=0;n<10;n++)a+=this.code.charAt(n)*t[n];if(e=a%11,a=0,10===e){for(n=0;n<10;n++)a+=this.code.charAt(n)*r[n];10===(e=a%11)&&(e=0)}return e},this.validate=function(){if(11!==this.code.length)return!1;if(this.getControlNumber(n)!==parseInt(this.code.charAt(10)))return!1;var e=Number(this.code.substr(1,2)),t=Number(this.code.substr(3,2)),r=Number(this.code.substr(5,2)),a=this.getBirthday();return e===a.getFullYear()%100&&a.getMonth()+1===t&&r===a.getDate()},this.getGender=function(){var e="";switch(this.code.charAt(0)){case"1":case"3":case"5":e="male";break;case"2":case"4":case"6":e="female";break;default:e="unknown"}return e},this.getAge=function(){return Math.floor(((new Date).getTime()-this.getBirthday().getTime())/864e5/365.25)},this.getBirthday=function(){var e=parseInt(this.code.substring(1,3)),t=parseInt(this.code.substring(3,5).replace(/^0/,""))-1,r=this.code.substring(5,7).replace(/^0/,""),a=this.code.charAt(0);return"1"===a||"2"===a?e+=1800:"3"===a||"4"===a?e+=1900:"5"===a||"6"===a?e+=2e3:"7"!==a&&"8"!==a||(e+=2100),new Date(e,t,r)}}function h(e){throw new Error(e)}s.generate=function(e){"use strict";var t,r,a,n=(e=e||{}).gender||(0===Math.round(Math.random())?"male":"female"),o="",i=["00","01","02","22","27","37","42","47","49","52","57","60","65","70","95"];if("female"!==n&&"male"!==n)throw new h('gender param accepts only "male" or "female" values.');if(t=e.birthYear||Math.round(100*Math.random()+1900+((new Date).getFullYear()-2e3)),r=e.birthMonth||Math.floor(12*Math.random())+1,a=e.birthDay||(a=new Date(t,r,0).getDate(),Math.floor(Math.random()*a)+1),"male"===n&&1800<=t&&t<=1899)o+="1";else if("female"===n&&1800<=t&&t<=1899)o+="2";else if("male"===n&&1900<=t&&t<=1999)o+="3";else if("female"===n&&1900<=t&&t<=1999)o+="4";else if("male"===n&&2e3<=t&&t<=2099)o+="5";else if("female"===n&&2e3<=t&&t<=2099)o+="6";else if("male"===n&&2100<=t&&t<=2199)o+="7";else{if(!("female"===n&&2100<=t&&t<=2199))throw new h("unsupported year.");o+="8"}return o+=parseInt(t,0).toString().substring(2,4),o+=1===r.toString().length?"0"+r:r,o+=1===a.toString().length?"0"+a:a,o+=i[Math.floor(Math.random()*i.length)],o+=Math.floor(10*Math.random()),o+=new s(o).getControlNumber()},"undefined"!=typeof module&&module.exports?module.exports=s:e.Isikukood=s}(this);